{"version":3,"sources":["Components/Loader/Loader.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","services/imagesApi.js","Components/Button/Button.js","Components/App.js","index.js"],"names":["Spiner","className","type","color","height","width","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","console","log","props","onSubmit","this","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","url","toggleModal","onShow","id","onClick","src","alt","ImageGallery","images","handleLargeFoto","map","webformatURL","largeImageURL","key","Modal","hendleKeyDown","code","onClose","handleCloseOnOverlay","window","addEventListener","removeEventListener","children","searchQuery","page","axios","get","then","response","data","hits","ButtonLoadMore","fetchImages","App","loading","showModal","error","imagesApi","prevState","catch","finally","handleSearchFormSubmit","query","trim","prevProps","prevQuery","nextQuery","scrollTo","top","document","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3d0322b9.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"../Loader/loader.css\";\r\n\r\nexport default function Spiner() {\r\n  return (\r\n    <div className=\"loader\">\r\n      <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />;\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./searchbar.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(this.state.inputValue);\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"searchbar\">\r\n        <form onSubmit={this.handleSubmit} className=\"searchForm\">\r\n          <button type=\"submit\" className=\"searchForm-button\">\r\n            <span className=\"searchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"searchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./imageGalleryItem.css\";\r\n\r\nexport default function ImageGalleryItem({ url, toggleModal, onShow, id }) {\r\n  return (\r\n    <li onClick={toggleModal} className=\"imageGalleryItem\">\r\n      <img\r\n        src={url}\r\n        alt=\"\"\r\n        id={id}\r\n        onClick={onShow}\r\n        className=\"imageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./imageGallery.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nexport default function ImageGallery({ images, toggleModal, handleLargeFoto }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          id={id}\r\n          url={webformatURL}\r\n          toggleModal={toggleModal}\r\n          onShow={() => handleLargeFoto(largeImageURL)}\r\n        ></ImageGalleryItem>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./modal.css\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.hendleKeyDown);\r\n    window.addEventListener(\"click\", this.handleCloseOnOverlay);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.hendleKeyDown);\r\n    window.removeEventListener(\"click\", this.handleCloseOnOverlay);\r\n  }\r\n\r\n  hendleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleCloseOnOverlay = (e) => {\r\n    if (e.target.id === \"overlay\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"overlay\" id=\"overlay\">\r\n        <div className=\"modal\">{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst fetchImagesWithQuery = (searchQuery, page = 1) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?page=${page}&key=17916364-315350d6aa1d9b654f7b6ef04&image_type=photo&orientation=horizontal&per_page=4&q=${searchQuery}`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default {\r\n  fetchImagesWithQuery,\r\n};\r\n","import React from \"react\";\r\nimport \"../Button/button.css\";\r\n\r\nexport default function ButtonLoadMore({ fetchImages }) {\r\n  return (\r\n    <button type=\"button\" onClick={fetchImages} className=\"button\">\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"./Loader/Loader\";\r\nimport Searchbar from \"./Searchbar/Searchbar\";\r\nimport ImageGallery from \"./ImageGallery/ImageGallery.js\";\r\nimport Modal from \"./Modal/Modal\";\r\nimport imagesApi from \"../services/imagesApi\";\r\nimport ButtonLoadMore from \"./Button/Button\";\r\n\r\nimport \"./app.css\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    images: [],\r\n    largeImageURL: null,\r\n    loading: false,\r\n    showModal: false,\r\n    error: null,\r\n    searchQuery: \"\",\r\n    page: 1,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      // console.log(\"ok\");\r\n      this.fetchImages(nextQuery);\r\n    }\r\n\r\n    if (prevState !== this.images) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }\r\n\r\n  fetchImages = () => {\r\n    const { searchQuery, page } = this.state;\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    imagesApi\r\n      .fetchImagesWithQuery(searchQuery, page)\r\n      .then((images) =>\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...images],\r\n          page: prevState.page + 1,\r\n        }))\r\n      )\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  handleSearchFormSubmit = (query) => {\r\n    this.setState({ searchQuery: query.trim(), page: 1, images: [] });\r\n  };\r\n  // axios\r\n  //   .get(\r\n  //     \"https://pixabay.com/api/?q=flower&page=1&key=17916364-315350d6aa1d9b654f7b6ef04&image_type=photo&orientation=horizontal&per_page=4\"\r\n  //     // &image_type=photo&orientation=horizontal&per_page=12\r\n  //     // \"https://hn.algolia.com/api/v1/search?query=react\"\r\n  //   )\r\n  //   .then((response) => this.setState({ images: response.data.hits }))\r\n  //   .catch((error) => this.setState({ error }))\r\n  //   .finally(() => this.setState({ loading: false }));\r\n\r\n  toggleModal = () => {\r\n    this.setState((state) => ({ showModal: !state.showModal }));\r\n  };\r\n\r\n  handleLargeFoto = (url) => {\r\n    this.setState({ largeImageURL: url });\r\n    console.log(url);\r\n  };\r\n\r\n  render() {\r\n    const { images, showModal, largeImageURL, error, loading } = this.state;\r\n    return (\r\n      <div className=\"app\">\r\n        <Searchbar onSubmit={this.handleSearchFormSubmit} />\r\n        {error && <p>Whoops, something went wrong</p>}\r\n\r\n        {images.length > 0 && (\r\n          <ImageGallery\r\n            images={images}\r\n            toggleModal={this.toggleModal}\r\n            handleLargeFoto={this.handleLargeFoto}\r\n          ></ImageGallery>\r\n        )}\r\n\r\n        {loading && <Loader />}\r\n        {images.length > 0 && !loading && (\r\n          <ButtonLoadMore fetchImages={this.fetchImages} />\r\n        )}\r\n\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={largeImageURL}></img>\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./Components/main.css\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}