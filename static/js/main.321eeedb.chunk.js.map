{"version":3,"sources":["Components/Loader/Loader.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","services/imagesApi.js","Components/Button/Button.js","Components/App.js","index.js"],"names":["Spiner","type","color","height","width","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","console","log","props","onSubmit","className","this","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","url","toggleModal","onShow","id","onClick","src","alt","ImageGallery","images","handleLargeFoto","map","webformatURL","largeImageURL","key","Modal","hendleKeyDown","code","onClose","handleCloseOnOverlay","window","addEventListener","removeEventListener","children","searchQuery","page","axios","get","then","response","data","hits","ButtonLoadMore","fetchImages","App","loading","showModal","error","imagesApi","prevState","catch","finally","handleSearchFormSubmit","query","prevProps","prevQuery","nextQuery","scrollTo","top","document","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.321eeedb.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport default function Spiner() {\r\n  return <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./searchbar.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(this.state.inputValue);\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"searchbar\">\r\n        <form onSubmit={this.handleSubmit} className=\"searchForm\">\r\n          <button type=\"submit\" className=\"searchForm-button\">\r\n            <span className=\"searchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"searchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./imageGalleryItem.css\";\r\n\r\nexport default function ImageGalleryItem({ url, toggleModal, onShow, id }) {\r\n  return (\r\n    <li onClick={toggleModal} className=\"imageGalleryItem\">\r\n      <img\r\n        src={url}\r\n        alt=\"\"\r\n        id={id}\r\n        onClick={onShow}\r\n        className=\"imageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./imageGallery.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nexport default function ImageGallery({ images, toggleModal, handleLargeFoto }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          id={id}\r\n          url={webformatURL}\r\n          toggleModal={toggleModal}\r\n          onShow={() => handleLargeFoto(largeImageURL)}\r\n        ></ImageGalleryItem>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./modal.css\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.hendleKeyDown);\r\n    window.addEventListener(\"click\", this.handleCloseOnOverlay);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.hendleKeyDown);\r\n    window.removeEventListener(\"click\", this.handleCloseOnOverlay);\r\n  }\r\n\r\n  hendleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleCloseOnOverlay = (e) => {\r\n    if (e.target.id === \"overlay\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"overlay\" id=\"overlay\">\r\n        <div className=\"modal\">{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst fetchImagesWithQuery = (searchQuery, page = 1) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?page=${page}&key=17916364-315350d6aa1d9b654f7b6ef04&image_type=photo&orientation=horizontal&per_page=4&q=${searchQuery}`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default {\r\n  fetchImagesWithQuery,\r\n};\r\n","import React from \"react\";\r\nimport \"../Button/button.css\";\r\n\r\nexport default function ButtonLoadMore({ fetchImages }) {\r\n  return (\r\n    <button type=\"button\" onClick={fetchImages} className=\"button\">\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"./Loader/Loader\";\r\nimport Searchbar from \"./Searchbar/Searchbar\";\r\nimport ImageGallery from \"./ImageGallery/ImageGallery.js\";\r\nimport Modal from \"./Modal/Modal\";\r\nimport imagesApi from \"../services/imagesApi\";\r\nimport ButtonLoadMore from \"./Button/Button\";\r\n\r\nimport \"./app.css\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    images: [],\r\n    largeImageURL: null,\r\n    loading: false,\r\n    showModal: false,\r\n    error: null,\r\n    searchQuery: \"\",\r\n    page: 1,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      // console.log(\"ok\");\r\n      this.fetchImages(nextQuery);\r\n    }\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n\r\n  fetchImages = () => {\r\n    const { searchQuery, page } = this.state;\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    imagesApi\r\n      .fetchImagesWithQuery(searchQuery, page)\r\n      .then((images) =>\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...images],\r\n          page: prevState.page + 1,\r\n        }))\r\n      )\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  handleSearchFormSubmit = (query) => {\r\n    this.setState({ searchQuery: query, page: 1, images: [] });\r\n  };\r\n  // axios\r\n  //   .get(\r\n  //     \"https://pixabay.com/api/?q=flower&page=1&key=17916364-315350d6aa1d9b654f7b6ef04&image_type=photo&orientation=horizontal&per_page=4\"\r\n  //     // &image_type=photo&orientation=horizontal&per_page=12\r\n  //     // \"https://hn.algolia.com/api/v1/search?query=react\"\r\n  //   )\r\n  //   .then((response) => this.setState({ images: response.data.hits }))\r\n  //   .catch((error) => this.setState({ error }))\r\n  //   .finally(() => this.setState({ loading: false }));\r\n\r\n  toggleModal = () => {\r\n    this.setState((state) => ({ showModal: !state.showModal }));\r\n  };\r\n\r\n  handleLargeFoto = (url) => {\r\n    this.setState({ largeImageURL: url });\r\n    console.log(url);\r\n  };\r\n\r\n  render() {\r\n    const { images, showModal, largeImageURL, error, loading } = this.state;\r\n    return (\r\n      <div className=\"app\">\r\n        <Searchbar onSubmit={this.handleSearchFormSubmit} />\r\n        {error && <p>Whoops, something went wrong</p>}\r\n\r\n        {loading ? (\r\n          // <div>Loading...</div>\r\n          <Loader />\r\n        ) : (\r\n          <ImageGallery\r\n            images={images}\r\n            toggleModal={this.toggleModal}\r\n            handleLargeFoto={this.handleLargeFoto}\r\n          ></ImageGallery>\r\n        )}\r\n        {images.length > 0 && !loading && (\r\n          <ButtonLoadMore fetchImages={this.fetchImages} />\r\n        )}\r\n\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={largeImageURL}></img>\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./Components/main.css\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}